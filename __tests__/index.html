<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Audio Test Page</title>
  <style>
    body {
      padding-top: 30px;
      /* text-align: center; */
    }

    button {
      padding: 14px 20px;
      border-radius: 4px;;
      display: block;
      background: #007aff;
      color: #fff;
      width: 80%;
      margin: 0 auto;
      margin-bottom: 10px;
      border:none;
    }

    button:active{
      background: #007a4f;
    }
  </style>
</head>

<body>
  <script src="/@feizheng/next-js-core2/dist/next-js-core2.js"></script>
  <script src="/@feizheng/next-dom-event/dist/next-dom-event.js"></script>
  <script src="/@feizheng/next-audio/dist/next-audio.js"></script>
  <script src="/next-audio-manager.js"></script>

  <button id="btn-play">Play</button>
  <button id="btn-pause">Pause</button>
  <button id="btn-stop">Stop</button>
  <button id="btn-destroy">Destroy</button>

  <hr/>

  <button id="btn-create-multiple">CreateMultiple</button>
  <button id="btn-play-multiple">MultiplyPlay</button>
  <button id="btn-stop-multiple">MultiplyStop</button>
  <button id="btn-times-multiple">GetTimes</button>

  <script>
    var $ = function (id) {
      return document.getElementById(id);
    };

    var audioMgr = nx.AudioManager.create({
      controls: false,
      src: 'https://course-assets.alo7.com/generate/pieces/fb0/fb0c51aa44763bdd5b21ec4e97643ca74708d73af51ce3a7be777bc8e0566264.mp3',
      onChange: function (inEvent) {
        console.log(inEvent);
      }
    });

    $('btn-play').onclick = function (params) {
      audioMgr.method('play');
    };
    $('btn-pause').onclick = function (params) {
      audioMgr.method('pause');;
    };
    $('btn-stop').onclick = function (params) {
      audioMgr.method('stop');
    };
    $('btn-destroy').onclick = function (params) {
      audioMgr.method('destroy');
    };

    $('btn-create-multiple').onclick = function () {
      nx.AudioManager.create([
        { key: 'k1', src: 'https://file-examples.com/wp-content/uploads/2017/11/file_example_MP3_700KB.mp3' },
        { key: 'k2', src: 'https://kolber.github.io/audiojs/demos/mp3/juicy.mp3' }
      ])
    }

    $('btn-play-multiple').onclick = function () {
      nx.AudioManager.method('play');
    };

    $('btn-stop-multiple').onclick = function () {
      nx.AudioManager.method('stop');
    };

    $('btn-times-multiple').onclick = function() {
      var res = nx.AudioManager.property('times');
      console.log(res);
    };
  </script>
</body>

</html>
